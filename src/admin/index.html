<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Sample FirebaseUI App</title>

    <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/angular_material/1.1.8/angular-material.min.css">
    <link type="text/css" rel="stylesheet" href="https://cdn.firebase.com/libs/firebaseui/3.5.1/firebaseui.css" />
    <link type="text/css" rel="stylesheet" href="admin.css" />
    
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular-animate.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular-aria.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular-messages.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angular_material/1.1.8/angular-material.min.js"></script>

    
    <script src="https://www.gstatic.com/firebasejs/5.7.2/firebase.js"></script>
    <script src="https://cdn.firebase.com/libs/angularfire/2.3.0/angularfire.min.js"></script>
    <script src="https://cdn.firebase.com/libs/firebaseui/3.5.1/firebaseui.js"></script>
    
    <script src="config.js" type="text/javascript"></script>
    <script src="crypto.js" type="text/javascript"></script>
    <script src="app.js" type="text/javascript"></script>

  </head>
  <body ng-app="signageApp"  ng-controller='appController' ng-cloak>
    <div layout="column" layout-fill>
      <md-toolbar>
        <div class="md-toolbar-tools">
          <h2 md-truncate flex>Signage Application Admin</h2>
          <md-button ng-click='logout()' ng-if='isLoggedIn' ng-cloak>
            Logout
          </md-button>
        </div>
      </md-toolbar>
      <md-content ng-if='isLoggedIn'>
        <md-card>
          <md-list-item>
            <input type='text' ng-model='galleryName'  /> <md-button ng-click='addGallery(galleryName.replace(" ",""))' >Add Gallery</md-button>
          </md-list-item>
        </md-card>
        <md-divider></md-divider>
        <div flex layout="row">
          <div flex="100" flex-gt-md="50"  flex-lg="25" layout="column" ng-repeat="(galleryName, gallery) in userId">
            <md-card>
              <md-card-title>
                <md-card-title-text>
                  <span class="md-headline">{{galleryName.replace(" ","")}}</span>
                </md-card-title-text>
                <md-card-actions>
                    <input type='file' ng-model='imageUrl' ng-attr-id='{{galleryName.replace(" ","")}}' onchange='angular.element(this).scope().addImageToGallery(angular.element(this).scope().galleryName.replace(" ",""), this.value, angular.element(this).scope().gallery)'  />
                </md-card-actions>
              </md-card-title>
            </md-card>
            <md-card ng-repeat='url in gallery'>
              <div class="md-media-sm card-media">
                <img src='{{url}}' ng-attr-id='{{$index + "-" + galleryName.replace(" ","") + "-display"}}' md-force-height="'100px'"/>
              </div>
            </md-card>
          </div>
        </div>
      </md-content>
      <div id="firebaseui-auth-container" ></div>
    </div>
  </body>
</html>