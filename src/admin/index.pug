doctype html
html
  include includes/head.pug
  body(ng-app="signageApp" ng-controller="appController" ng-cloak="")
    div(layout="column" layout-fill="")
      md-toolbar
        .md-toolbar-tools
          md-button#galleryMenu.md-fab.md-mini(ng-click="toggleLeft()" hide-gt-md="")
            md-icon.material-icons menu
          h2(md-truncate="" flex="") Signage Application Admin
          md-button(ng-click="logout()" ng-if="isLoggedIn" ng-cloak="")
            | Logout
      md-content(ng-if="isLoggedIn" layout-fill="" layout="column")
        section(layout="column" layout-fill="" flex="")
          md-sidenav.md-sidenav-left(md-component-id="left" layout="column" layout-fill="" layout-align="top left" md-is-locked-open="$mdMedia('gt-md')" md-whiteframe="4")
            md-toolbar(md-colors="{background: 'default-primary-100'}" layout="row" layout-align="space-between")
              .md-toolbar-tools
                md-input-container
                  md-button#addGallery.md-fab.md-mini(ng-click="showAddGalleryPrompt($event)")
                    md-icon.material-icons add
                span.md-display-1 Galleries
            
            md-content(layout-padding="" ng-show="!galleryFormOpen")

              md-radio-group.galleryList(ng-model="selectedGallery")
                .row(ng-repeat="gallery in galleries | orderBy: 'name'")
                  div(flex="" layout="row" layout-padding layout-align="space-between center")
                    md-radio-button.md-primary(flex="" ng-value="gallery")
                      | {{formatGalleryName(gallery.name)}}

                    md-button#uploadButton.md-fab.md-mini(ng-click="showGalleryConfirm($event, gallery.name)")
                      md-icon.material-icons clear
                  md-divider
                  
                        
          md-content(layout="column" layout-fill="" flex="" layout-padding="" layout="row")
            div(layout="column" layout-fill="" layout-align="top left")
              md-tabs(layout="column" layout-fill=""  md-selected="selectedTabIndex" md-align-tabs="top" ng-if="selectedGallery")
                md-tab(layout="column" layout-fill=""  id="tab1" md-tab-class="selector-tab1")
                  md-tab-label Settings
                  md-tab-body
                    div(layout-padding layout="column" flex="") 
                      h1 
                        md-button#uploadButton.md-fab.md-mini(ng-click="s")
                          md-icon.material-icons save
                      div(layout="column" layout-fill=""  layout-wrap)
                        md-input-container(class="md-block" flex-gt-sm)
                          label Gallery Name
                          input(ng-model="selectedGallery.name" ng-pattern="/^[a-zA-Z0-9_]*$/")
                        md-input-container(class="md-block" flex-gt-sm)
                          label Sides per view
                          input(ng-model="selectedGallery.config.slidesPerView" ng-pattern="/^[1-4]{1}/" )
                        md-input-container(class="md-block" flex-gt-sm)
                          label Sides per group
                          input(ng-model="selectedGallery.config.slidesPerGroup")
                        md-input-container(class="md-block" flex-gt-sm)
                          md-checkbox(ng-model="selectedGallery.config.loop")
                            | Loop slide show
                      md-divider
                md-tab(id="tab2" md-tab-class="selector-tab2")
                  md-tab-label Slides
                  md-tab-body 
                    md-content(layout-padding) 
                      div [slide list]
                      md-divider
                md-tab(id="tab3" md-tab-class="selector-tab3")
                  md-tab-label Preview
                  md-tab-body
                    md-content(layout-padding) 
                      div [gallery preview]
                      md-divider
        




                pre(style="text-align:left") {{selectedGallery | json}}
             
      #firebaseui-auth-container
    #loadingPanel(ng-show="imageIsUploading")
      div(layout="row" layout-sm="column" layout-align="space-around")
        md-progress-circular(md-mode="indeterminate")
